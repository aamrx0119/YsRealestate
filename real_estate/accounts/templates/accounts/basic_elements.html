{% extends 'accounts/base.html' %}
{% load static%}
{% block content %}
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="page-header">
              <h3 class="page-title"> Form elements </h3>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="#">Forms</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Form elements</li>
                </ol>
              </nav>
            </div>
            <div class="row">
              <div class="col-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Basic form elements</h4>
                    <p class="card-description"> Basic form elements </p>
                    <form class="forms-sample" method="post" enctype="multipart/form-data" >
                      <div class="form-group">
                        {% csrf_token %}
                        {{form.as_p}}
                      </div>
                      <div class="form-group">
                        <label>Thumbnail</label>
                        <input type="file" name="thumbnail" class="file-upload-default">
                        <div class="input-group col-xs-12">
                          <input  type="text" class="form-control file-upload-info" disabled placeholder="Upload Image">
                          <span class="input-group-append">
                            <button class="file-upload-browse btn btn-primary" type="button">Upload</button>
                          </span>
                        </div>
                      </div>
                      <!-- drop zone  -->
                      <div class="form-group">
                        <label>File upload</label>
                        <div class="file-drop-area"> <span class="choose-file-button">Choose files</span> 
                          <span class="file-message">or drag and drop files here</span> 
                          <input class="file-input" type="file" name="pict" multiple>
                        </div>
                        <div class="input-group col-xs-12">
                          </span>
                        </div>
                      </div>
                      <button class="btn btn-info" type="submit">Send</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

<style>


.file-drop-area {
    position: relative;
    display: flex;
    align-items: center;
    width: 450px;
    max-width: 100%;
    padding: 25px;
    border: 1px dashed rgba(255, 255, 255, 0.4);
    border-radius: 3px;
    transition: 0.2s
}

.choose-file-button {
    flex-shrink: 0;
    background-color: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    padding: 8px 15px;
    margin-right: 10px;
    font-size: 12px;
    text-transform: uppercase
}

.file-message {
    font-size: small;
    font-weight: 300;
    line-height: 1.4;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis
}

.file-input {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    cursor: pointer;
    opacity: 0
}

.mt-100 {
    margin-top: 100px
}
</style>
{% endblock %}
{% block js_file %}
<script src="{% static 'accounts/assets/js/file-upload.js' %}"></script>
<script src="{% static 'accounts/assets/js/typeahead.js' %}"></script>
<script src="{% static 'accounts/assets/js/select2.js' %}"></script>


<script>
$(document).on('change', '.file-input', function() {


var filesCount = $(this)[0].files.length;

var textbox = $(this).prev();

if (filesCount === 1) {
var fileName = $(this).val().split('\\').pop();
textbox.text(fileName);
} else {
textbox.text(filesCount + ' files selected');
}
});
</script>
{% endblock js_file %}
